"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[604],{1604:function(e,a,t){t.r(a),t.d(a,{default:function(){return L}});var n=t(9439),r=t(2791),s="WaterRatioPanel_dailyNormaSection__lejGd",i="WaterRatioPanel_imageContainer__JcPUd",l="WaterRatioPanel_progressContainer__f0Qbe",o="WaterRatioPanel_progressTitle__Z-RzH",c="WaterRatioPanel_progressBar__dShpn",u="WaterRatioPanel_progressMarkers__+UN4R",d="WaterRatioPanel_marker__m+8sw",m="WaterRatioPanel_tick__Gwmie",h="WaterRatioPanel_addWaterBtn__mfzkw",_="WaterRatioPanel_icon__ZAI64",p="WaterRatioPanel_bottomSection__pH0C5",f="DailyNorma_dailyNormaContainer__KHUio",x="DailyNorma_title__X4SZH",v="DailyNorma_normaContainer__yAGrT",N="DailyNorma_normaValue__Gd29x",j="DailyNorma_editButton__Zko6d",y=t(5861),g=t(7757),b=t.n(g),w=t(4420),k=t(3016),M=function(e){return function(){var a=(0,y.Z)(b().mark((function a(t){var n,r;return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("token"),a.prev=1,a.next=4,k.Z.put("https://the-dominators-back-project.onrender.com",{dailyNorma:e},{headers:{Authorization:"Bearer ".concat(n)}});case 4:return r=a.sent,t({type:"UPDATE_DAILY_NORMA_SUCCESS",payload:r.data}),a.abrupt("return",{success:!0,message:r.data.message});case 9:return a.prev=9,a.t0=a.catch(1),t({type:"UPDATE_DAILY_NORMA_FAILURE",payload:a.t0.response.data}),a.abrupt("return",{success:!1,message:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},C={modal:"DailyNormaModal_modal__vJ3oF",modalContent:"DailyNormaModal_modalContent__KvIF8",navnButton:"DailyNormaModal_navnButton__YziaA",closeButton:"DailyNormaModal_closeButton__Uur27",formulas:"DailyNormaModal_formulas__wR-gI",label:"DailyNormaModal_label__FhZVe",formula:"DailyNormaModal_formula__LLd2F",radioGroup:"DailyNormaModal_radioGroup__hW-rO","radio-label":"DailyNormaModal_radio-label__j1hG2",labelInput:"DailyNormaModal_labelInput__zcUdV",inputWrapper:"DailyNormaModal_inputWrapper__yjnEa",bluInput:"DailyNormaModal_bluInput__QSMvJ","modal-content":"DailyNormaModal_modal-content__TsjF1","radio-group":"DailyNormaModal_radio-group__CV3cj",blu:"DailyNormaModal_blu__S7if2"},W=t(184),D=function(e){var a=e.setModalVisible,t=(0,r.useState)("woman"),s=(0,n.Z)(t,2),i=s[0],l=s[1],o=(0,r.useState)(0),c=(0,n.Z)(o,2),u=c[0],d=c[1],m=(0,r.useState)(0),h=(0,n.Z)(m,2),_=h[0],p=h[1],f=(0,r.useState)("0 L"),x=(0,n.Z)(f,2),v=x[0],N=x[1],j=(0,r.useState)(0),g=(0,n.Z)(j,2),k=g[0],D=g[1],S=(0,w.I0)();(0,r.useEffect)((function(){return F(),window.addEventListener("resize",F),function(){return window.removeEventListener("resize",F)}}),[]);var F=function(){var e=document.getElementById("infoText");e.style.height="auto",e.style.height=e.scrollHeight+"px"},I=(0,r.useCallback)((function(){var e;"woman"===i?e=.03*u+.4*_:"man"===i&&(e=.04*u+.6*_),isNaN(e)&&(e=0),N(0===e?"0 L":e.toFixed(2)+" L")}),[i,u,_]);(0,r.useEffect)((function(){I()}),[I]);var R=function(e){"0"===e.target.value&&(e.target.value="")},P=function(e){""===e.target.value&&(e.target.value="0")},B=function(){var e=(0,y.Z)(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((n=1e3*k)>5e3)){e.next=5;break}return alert("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u0442\u043e\u0447\u043d\u0430\u044f \u043d\u043e\u0440\u043c\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u0432\u043e\u0434\u044b - 5000 \u043c\u043b"),e.abrupt("return");case 5:return e.next=7,S(M(n));case 7:(r=e.sent).success?(a(!1),alert("Successfully updated daily norm!")):alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(r.message));case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,W.jsx)("div",{className:C.App,children:(0,W.jsx)("div",{className:C.modal,children:(0,W.jsxs)("div",{className:C.modalContent,children:[(0,W.jsxs)("div",{className:C.navnButton,children:[(0,W.jsx)("h2",{children:"My daily norma"}),(0,W.jsx)("button",{className:C.closeButton,onClick:function(){return a(!1)},children:"\xd7"})]}),(0,W.jsxs)("div",{className:C.formulas,children:[(0,W.jsxs)("p",{children:[(0,W.jsx)("span",{className:C.label,children:"For girl:"}),(0,W.jsx)("span",{className:C.formula,children:"V=(M*0.03) + (T*0.4)"})]}),(0,W.jsxs)("p",{children:[(0,W.jsx)("span",{className:C.label,children:"For man:"}),(0,W.jsx)("span",{className:C.formula,children:"V=(M*0.04) + (T*0.6)"})]})]}),(0,W.jsx)("textarea",{id:"infoText",readOnly:!0,className:C.textarea,children:"* V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)"}),(0,W.jsxs)("form",{onSubmit:B,children:[(0,W.jsx)("h4",{children:"Calculate your rate:"}),(0,W.jsxs)("div",{className:C.radioGroup,children:[(0,W.jsxs)("label",{className:C.radioLabel,children:[(0,W.jsx)("input",{type:"radio",name:"gender",value:"woman",checked:"woman"===i,onChange:function(){return l("woman")}})," For woman"]}),(0,W.jsxs)("label",{className:C.radioLabel,children:[(0,W.jsx)("input",{type:"radio",name:"gender",value:"man",checked:"man"===i,onChange:function(){return l("man")}})," For man"]})]}),(0,W.jsxs)("div",{className:C.inputWrapper,children:[(0,W.jsx)("label",{className:C.labelInput,htmlFor:"weight",children:"Your weight in kilograms:"}),(0,W.jsx)("input",{className:C.bluInput,type:"number",id:"weight",name:"weight",value:u,onChange:function(e){return d(parseFloat(e.target.value))},onFocus:R,onBlur:P})]}),(0,W.jsxs)("div",{className:C.inputWrapper,children:[(0,W.jsx)("label",{className:C.labelInput,htmlFor:"activity-time",children:"The time of active participation in sports or other activities with a high physical load in hours:"}),(0,W.jsx)("input",{className:C.bluInput,type:"number",id:"activity-time",name:"activity-time",value:_,onChange:function(e){return p(parseFloat(e.target.value))},onFocus:R,onBlur:P})]}),(0,W.jsx)("div",{children:(0,W.jsxs)("p",{children:[(0,W.jsx)("span",{children:"The required amount of water in liters per day:"}),(0,W.jsx)("span",{className:"".concat(C.blu," ").concat(C.requiredWater),children:v})]})}),(0,W.jsx)("h4",{children:"Write down how much water you will drink:"}),(0,W.jsx)("div",{className:C.inputWrapper,children:(0,W.jsx)("input",{className:C.bluInput,type:"number",id:"water-intake",name:"water-intake",value:k,onChange:function(e){return D(parseFloat(e.target.value))},onFocus:R,onBlur:P})}),(0,W.jsx)("button",{type:"submit",className:C.saveButton,children:"Save"})]})]})})})},S=function(){var e=(0,r.useState)(!1),a=(0,n.Z)(e,2),t=a[0],s=a[1];return(0,W.jsxs)("div",{className:f,children:[(0,W.jsx)("p",{className:x,children:"My daily norma"}),(0,W.jsxs)("div",{className:v,children:[(0,W.jsx)("span",{className:N,children:"1.5 L"}),(0,W.jsx)("button",{onClick:function(){s(!0)},className:j,children:"Edit"})," "]}),t&&(0,W.jsx)(D,{setModalVisible:s})," "]})},F=function(e){var a=e.sliderValue,t=(0,r.useState)(256),s=(0,n.Z)(t,2),i=s[0],l=s[1];return(0,r.useEffect)((function(){var e=function(){window.innerWidth>=1440?l(350):window.innerWidth>=768?l(325):l(256)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,W.jsxs)("svg",{className:c,width:"100%",height:"20",viewBox:"0 0 ".concat(i," 20"),children:[(0,W.jsx)("rect",{x:"0",y:"6",width:i,height:"8",fill:"#d7e3ff",rx:"7"}),(0,W.jsx)("rect",{x:"0",y:"6",width:a/100*i,height:"8",fill:"#9ebbff",rx:"7"}),(0,W.jsx)("circle",{cx:Math.min(Math.max(a/100*i,7),i-7),cy:"10",r:"7",fill:"#ffffff",stroke:"#407bff",strokeWidth:"1"})]})},I=function(e){var a=e.sliderValue,t=e.onAddWaterClick;return(0,W.jsxs)("div",{className:s,children:[(0,W.jsx)(S,{}),(0,W.jsx)("div",{className:i}),(0,W.jsxs)("div",{className:p,children:[(0,W.jsxs)("div",{className:l,children:[(0,W.jsx)("span",{className:o,children:"Today"}),(0,W.jsx)(F,{sliderValue:a}),(0,W.jsx)("div",{className:u,children:[0,50,100].map((function(e,t){var n=a===e?16:12;return(0,W.jsxs)("div",{className:d,children:[(0,W.jsx)("div",{className:m}),(0,W.jsxs)("span",{style:{fontSize:"".concat(n,"px")},children:[e,"%"]})]},t)}))})]}),(0,W.jsxs)("button",{className:h,onClick:t,children:[(0,W.jsx)("svg",{className:_,width:"20",height:"20",children:(0,W.jsx)("use",{href:"images_auth/vectorbtn.svg#icon-vector-btn"})}),"Add Water"]})]})]})},R="HomePage_homeContainer__6ghGM",P="HomePage_waterTrackerSection__tdyHv",B="HomePage_todayWaterListSection__Rz2pC",L=function(){var e=(0,r.useState)(0),a=(0,n.Z)(e,2),t=a[0],s=a[1];return(0,W.jsxs)("div",{className:R,children:[(0,W.jsx)("section",{className:P,children:(0,W.jsx)(I,{sliderValue:t,onSliderChange:function(e){s(e)},onAddWaterClick:function(){s((function(e){return Math.min(e+10,100)}))}})}),(0,W.jsx)("section",{className:B})]})}}}]);
//# sourceMappingURL=604.122acc5d.chunk.js.map