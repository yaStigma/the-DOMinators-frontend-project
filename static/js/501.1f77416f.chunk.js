"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[501],{4501:function(e,a,t){t.r(a),t.d(a,{default:function(){return ee}});var r=t(9439),n=t(2791),s="WaterRatioPanel_dailyNormaSection__lejGd",o="WaterRatioPanel_imageContainer__JcPUd",i="WaterRatioPanel_progressContainer__f0Qbe",l="WaterRatioPanel_progressTitle__Z-RzH",c="WaterRatioPanel_progressBar__dShpn",u="WaterRatioPanel_progressMarkers__+UN4R",d="WaterRatioPanel_marker__m+8sw",m="WaterRatioPanel_tick__Gwmie",h="WaterRatioPanel_addWaterBtn__mfzkw",p="WaterRatioPanel_icon__ZAI64",_="WaterRatioPanel_bottomSection__pH0C5",f="DailyNorma_dailyNormaContainer__KHUio",v="DailyNorma_title__X4SZH",x="DailyNorma_normaContainer__yAGrT",j="DailyNorma_normaValue__Gd29x",N="DailyNorma_editButton__Zko6d",g=t(5861),b=t(7757),y=t.n(b),w=t(4420),M=t(3016),k=t(7520),W=t(2564);M.Z.defaults.baseURL="https://the-dominators-back-project.onrender.com";var S=function(e){M.Z.defaults.headers.common.Authorization="Bearer ".concat(e)},C=(0,k.hg)("user/water-rate",function(){var e=(0,g.Z)(y().mark((function e(a,t){var r,n,s,o,i,l,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.accessToken,n=a.dailyNorma,e.prev=1,S(r),e.next=5,M.Z.patch("/users/water-rate",{daylyNorm:n});case 5:return s=e.sent,W.Am.success(s.data.message,{duration:4e3,position:"top-right"}),e.abrupt("return",s.data);case 10:if(e.prev=10,e.t0=e.catch(1),!e.t0.response){e.next=16;break}return o=e.t0.response.data,i=o.status,l=o.message,c=o.data,W.Am.error("Error: ".concat(l),{duration:4e3,position:"top-right"}),e.abrupt("return",t.rejectWithValue({status:i,message:l,data:c}));case 16:return W.Am.error("Error: ".concat(e.t0.message),{duration:4e3,position:"top-right"}),e.abrupt("return",t.rejectWithValue({status:null,message:e.t0.message,data:null}));case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}()),A=(0,k.hg)("water/createRecord",function(){var e=(0,g.Z)(y().mark((function e(a,t){var r,n,s,o,i,l,c,u;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.accessToken,n=a.amount,s=a.time,e.prev=1,S(r),e.next=5,M.Z.post("/water",{amount:n,date:(new Date).toISOString().split("T")[0]+"T"+s+":00Z"});case 5:return o=e.sent,W.Am.success(o.data.message,{duration:4e3,position:"top-right"}),e.abrupt("return",o.data);case 10:if(e.prev=10,e.t0=e.catch(1),!e.t0.response){e.next=16;break}return i=e.t0.response.data,l=i.status,c=i.message,u=i.data,W.Am.error("Error: ".concat(c),{duration:4e3,position:"top-right"}),e.abrupt("return",t.rejectWithValue({status:l,message:c,data:u}));case 16:return W.Am.error("Error: ".concat(e.t0.message),{duration:4e3,position:"top-right"}),e.abrupt("return",t.rejectWithValue({status:null,message:e.t0.message,data:null}));case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}()),F={modal:"DailyNormaModal_modal__vJ3oF",modalContent:"DailyNormaModal_modalContent__KvIF8",navnButton:"DailyNormaModal_navnButton__YziaA",closeButton:"DailyNormaModal_closeButton__Uur27",formulas:"DailyNormaModal_formulas__wR-gI",label:"DailyNormaModal_label__FhZVe",formula:"DailyNormaModal_formula__LLd2F",radioGroup:"DailyNormaModal_radioGroup__hW-rO","radio-label":"DailyNormaModal_radio-label__j1hG2",labelInput:"DailyNormaModal_labelInput__zcUdV",inputWrapper:"DailyNormaModal_inputWrapper__yjnEa",bluInput:"DailyNormaModal_bluInput__QSMvJ","modal-content":"DailyNormaModal_modal-content__TsjF1","radio-group":"DailyNormaModal_radio-group__CV3cj",blu:"DailyNormaModal_blu__S7if2"},D=t(184),Z=function(e){var a=e.setModalVisible,t=(0,n.useState)("woman"),s=(0,r.Z)(t,2),o=s[0],i=s[1],l=(0,n.useState)(0),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,n.useState)(0),h=(0,r.Z)(m,2),p=h[0],_=h[1],f=(0,n.useState)("0 L"),v=(0,r.Z)(f,2),x=v[0],j=v[1],N=(0,n.useState)(0),b=(0,r.Z)(N,2),M=b[0],k=b[1],W=(0,w.I0)();(0,n.useEffect)((function(){return S(),window.addEventListener("resize",S),function(){return window.removeEventListener("resize",S)}}),[]);var S=function(){var e=document.getElementById("infoText");e.style.height="auto",e.style.height=e.scrollHeight+"px"},A=(0,n.useCallback)((function(){var e;"woman"===o?e=.03*u+.4*p:"man"===o&&(e=.04*u+.6*p),isNaN(e)&&(e=0),j(0===e?"0 L":e.toFixed(2)+" L")}),[o,u,p]);(0,n.useEffect)((function(){A()}),[A]);var Z=function(e){"0"===e.target.value&&(e.target.value="")},T=function(e){""===e.target.value&&(e.target.value="0")},B=function(){var e=(0,g.Z)(y().mark((function e(t){var r,n,s,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((r=1e3*M)>5e3)){e.next=5;break}return alert("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u0442\u043e\u0447\u043d\u0430\u044f \u043d\u043e\u0440\u043c\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u0432\u043e\u0434\u044b - 5000 \u043c\u043b"),e.abrupt("return");case 5:return n=JSON.parse(localStorage.getItem("persist:auth")),s=n.accessToken.replace(/"/g,""),e.next=9,W(C({accessToken:s,dailyNorma:r}));case 9:(o=e.sent).error?alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(o.error.message)):a(!1);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,D.jsx)("div",{className:F.App,children:(0,D.jsx)("div",{className:F.modal,children:(0,D.jsxs)("div",{className:F.modalContent,children:[(0,D.jsxs)("div",{className:F.navnButton,children:[(0,D.jsx)("h2",{children:"My daily norma"}),(0,D.jsx)("button",{className:F.closeButton,onClick:function(){return a(!1)},children:"\xd7"})]}),(0,D.jsxs)("div",{className:F.formulas,children:[(0,D.jsxs)("p",{children:[(0,D.jsx)("span",{className:F.label,children:"For girl:"}),(0,D.jsx)("span",{className:F.formula,children:"V=(M*0.03) + (T*0.4)"})]}),(0,D.jsxs)("p",{children:[(0,D.jsx)("span",{className:F.label,children:"For man:"}),(0,D.jsx)("span",{className:F.formula,children:"V=(M*0.04) + (T*0.6)"})]})]}),(0,D.jsx)("textarea",{id:"infoText",readOnly:!0,className:F.textarea,value:"* V is the volume of the water norm in liters per day, M is your body weight, T is the time of active sports, or another type of activity commensurate in terms of loads (in the absence of these, you must set 0)"}),(0,D.jsxs)("form",{onSubmit:B,children:[(0,D.jsx)("h4",{children:"Calculate your rate:"}),(0,D.jsxs)("div",{className:F.radioGroup,children:[(0,D.jsxs)("label",{className:F.radioLabel,children:[(0,D.jsx)("input",{type:"radio",name:"gender",value:"woman",checked:"woman"===o,onChange:function(){return i("woman")}})," For woman"]}),(0,D.jsxs)("label",{className:F.radioLabel,children:[(0,D.jsx)("input",{type:"radio",name:"gender",value:"man",checked:"man"===o,onChange:function(){return i("man")}})," For man"]})]}),(0,D.jsxs)("div",{className:F.inputWrapper,children:[(0,D.jsx)("label",{className:F.labelInput,htmlFor:"weight",children:"Your weight in kilograms:"}),(0,D.jsx)("input",{className:F.bluInput,type:"number",id:"weight",name:"weight",value:u,onChange:function(e){return d(parseFloat(e.target.value))},onFocus:Z,onBlur:T})]}),(0,D.jsxs)("div",{className:F.inputWrapper,children:[(0,D.jsx)("label",{className:F.labelInput,htmlFor:"activity-time",children:"The time of active participation in sports or other activities with a high physical load in hours:"}),(0,D.jsx)("input",{className:F.bluInput,type:"number",id:"activity-time",name:"activity-time",value:p,onChange:function(e){return _(parseFloat(e.target.value))},onFocus:Z,onBlur:T})]}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{children:[(0,D.jsx)("span",{children:"The required amount of water in liters per day:"}),(0,D.jsx)("span",{className:"".concat(F.blu," ").concat(F.requiredWater),children:x})]})}),(0,D.jsx)("h4",{children:"Write down how much water you will drink:"}),(0,D.jsx)("div",{className:F.inputWrapper,children:(0,D.jsx)("input",{className:F.bluInput,type:"number",id:"water-intake",name:"water-intake",value:M,onChange:function(e){return k(parseFloat(e.target.value))},onFocus:Z,onBlur:T})}),(0,D.jsx)("button",{type:"submit",className:F.saveButton,children:"Save"})]})]})})})},T=function(){var e=(0,n.useState)(!1),a=(0,r.Z)(e,2),t=a[0],s=a[1];return(0,D.jsxs)("div",{className:f,children:[(0,D.jsx)("p",{className:v,children:"My daily norma"}),(0,D.jsxs)("div",{className:x,children:[(0,D.jsx)("span",{className:j,children:"1.5 L"}),(0,D.jsx)("button",{onClick:function(){s(!0)},className:N,children:"Edit"})," "]}),t&&(0,D.jsx)(Z,{setModalVisible:s})," "]})},B="AddWaterModal_modal__dUadi",I="AddWaterModal_modalContent__PCT0Q",V="AddWaterModal_modalHeader__blV6-",E="AddWaterModal_close__zmKJE",R="AddWaterModal_modalBody__snhFv",P="AddWaterModal_amountSelector__fdnLF",L="AddWaterModal_inputSaveContainer__BhJMK",z="AddWaterModal_inputText__8XBA6",H="AddWaterModal_labelDistance__1laX6",G="AddWaterModal_labelDistanceText__l4fKH",J="AddWaterModal_saveButton__aM7B3",U="AddWaterModal_buttonSelector__B-Mvf",O="AddWaterModal_inputField__6yl44",K=function(e){var a=e.setModalVisible,t=(0,n.useState)(0),s=(0,r.Z)(t,2),o=s[0],i=s[1],l=(0,n.useState)(""),c=(0,r.Z)(l,2),u=c[0],d=c[1],m=(0,w.I0)();(0,n.useEffect)((function(){_()}),[]);var h=function(e){i((function(a){return Math.max(0,a+e)}))},p=function(){var e=(0,g.Z)(y().mark((function e(){var t,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("persist:auth")),r=JSON.parse(t.accessToken)){e.next=5;break}return alert("Unauthorized: No access token found"),e.abrupt("return");case 5:return console.log("Access Token:",r),e.prev=6,e.next=9,m(A({accessToken:r,amount:o,time:u}));case 9:a(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),_=function(){for(var e=document.getElementById("time"),a=new Date,t=a.getHours(),r=5*Math.floor(a.getMinutes()/5),n=0;n<24;n++)for(var s=0;s<60;s+=5){var o=document.createElement("option");o.value="".concat(n.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")),o.textContent="".concat(n.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")),n===t&&s===r&&(o.selected=!0,d(o.value)),e.appendChild(o)}};return(0,D.jsx)("div",{className:B,children:(0,D.jsxs)("div",{className:I,children:[(0,D.jsxs)("div",{className:V,children:[(0,D.jsx)("h2",{children:"Add water"}),(0,D.jsx)("span",{className:E,onClick:function(){a(!1)},children:"\xd7"})]}),(0,D.jsxs)("div",{className:R,children:[(0,D.jsx)("h4",{className:H,htmlFor:"amount",children:"Choose a value:"}),(0,D.jsx)("label",{className:G,htmlFor:"amount",children:"Amount of water:"}),(0,D.jsxs)("div",{className:P,children:[(0,D.jsx)("button",{className:U,onClick:function(){return h(-50)},children:"-"}),(0,D.jsxs)("span",{id:"amount",children:[o,"ml"]}),(0,D.jsx)("button",{className:U,onClick:function(){return h(50)},children:"+"})]}),(0,D.jsx)("label",{className:H,htmlFor:"time",children:"Recording time:"}),(0,D.jsx)("select",{className:z,id:"time",onChange:function(e){return d(e.target.value)}}),(0,D.jsx)("h4",{className:H,htmlFor:"value",children:"Enter the value of the water used:"}),(0,D.jsx)("input",{className:z,type:"number",id:"value",value:o,onChange:function(e){return i(Number(e.target.value))}}),(0,D.jsxs)("div",{className:L,children:[(0,D.jsx)("input",{className:O,type:"text",id:"autoFillInput",readOnly:!0,value:"".concat(o,"ml")}),(0,D.jsx)("button",{className:J,onClick:p,children:"Save"})]})]})]})})},Q=function(e){var a=e.sliderValue,t=(0,n.useState)(256),s=(0,r.Z)(t,2),o=s[0],i=s[1];return(0,n.useEffect)((function(){var e=function(){window.innerWidth>=1440?i(350):window.innerWidth>=768?i(325):i(256)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,D.jsxs)("svg",{className:c,width:"100%",height:"20",viewBox:"0 0 ".concat(o," 20"),children:[(0,D.jsx)("rect",{x:"0",y:"6",width:o,height:"8",fill:"#d7e3ff",rx:"7"}),(0,D.jsx)("rect",{x:"0",y:"6",width:a/100*o,height:"8",fill:"#9ebbff",rx:"7"}),(0,D.jsx)("circle",{cx:Math.min(Math.max(a/100*o,7),o-7),cy:"10",r:"7",fill:"#ffffff",stroke:"#407bff",strokeWidth:"1"})]})},X=function(e){var a=e.sliderValue,t=(e.onAddWaterClick,(0,n.useState)(!1)),c=(0,r.Z)(t,2),f=c[0],v=c[1];return(0,D.jsxs)("div",{className:s,children:[(0,D.jsx)(T,{}),(0,D.jsx)("div",{className:o}),(0,D.jsxs)("div",{className:_,children:[(0,D.jsxs)("div",{className:i,children:[(0,D.jsx)("span",{className:l,children:"Today"}),(0,D.jsx)(Q,{sliderValue:a}),(0,D.jsx)("div",{className:u,children:[0,50,100].map((function(e,t){var r=a===e?16:12;return(0,D.jsxs)("div",{className:d,children:[(0,D.jsx)("div",{className:m}),(0,D.jsxs)("span",{style:{fontSize:"".concat(r,"px")},children:[e,"%"]})]},t)}))})]}),(0,D.jsxs)("button",{className:h,onClick:function(){v(!0)},children:[(0,D.jsx)("svg",{className:p,width:"20",height:"20",children:(0,D.jsx)("use",{href:"images_auth/vectorbtn.svg#icon-vector-btn"})}),"Add Water"]})]}),f&&(0,D.jsx)(K,{setModalVisible:v})]})},q="HomePage_homeContainer__6ghGM",Y="HomePage_waterTrackerSection__tdyHv",$="HomePage_todayWaterListSection__Rz2pC",ee=function(){var e=(0,n.useState)(0),a=(0,r.Z)(e,2),t=a[0],s=a[1];return(0,D.jsxs)("div",{className:q,children:[(0,D.jsx)("section",{className:Y,children:(0,D.jsx)(X,{sliderValue:t,onSliderChange:function(e){s(e)},onAddWaterClick:function(){s((function(e){return Math.min(e+10,100)}))}})}),(0,D.jsx)("section",{className:$})]})}}}]);
//# sourceMappingURL=501.1f77416f.chunk.js.map